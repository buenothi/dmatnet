<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:dmat="http://java.sun.com/jsf/composite/composites">

<ui:composition>

	<dmat:barraBotoesComposite id="barraBotoesDadosCadastrais"
		disabledEditar="#{cadastroEmpresaMB.btnDadosCadastraisEditarDesativado}" 
		actionListenerEditar="#{cadastroEmpresaMB.editarDadosCadastraisEmpresa}"
		updateEditar="formModulos" 
		disabledCancelar="#{cadastroEmpresaMB.btnDadosCadastraisCancelarDesativado}" 
		actionListenerCancelar="#{cadastroEmpresaMB.cancelarDadosCadastraisEmpresa}"
		updateCancelar="formModulos" 
		disabledSalvar="#{cadastroEmpresaMB.btnDadosCadastraisSalvarDesativado}" 
		actionListenerSalvar="#{cadastroEmpresaMB.salvarDadosCadastraisEmpresa}"
		updateSalvar="formModulos"  
		labelNovo="#{msgs.NovoEmpresaDadosCadastrais}" 
		disabledNovo="#{cadastroEmpresaMB.btnDadosCadastraisNovaEmpresaDesativado}" 
		actionListenerNovo="#{cadastroEmpresaMB.novoDadosCadastraisEmpresa}"
		updateNovo="formModulos" 
		renderedBtnNovo="true"/>

	<p:accordionPanel id="acpDadosCadastrais">
		<p:tab id="tabDadosBasicos" title="#{msgs.DadosBasicos}">
			<h:panelGroup id="pngCadEmpresaEditar" layout="block"
				styleClass="formulario"
				rendered="#{cadastroEmpresaMB.btnDadosCadastraisEditarDesativado}">
				<p:panelGrid id="pngEditarDadoCadastrais" columns="2"
					styleClass="tabelaSemBorda">
					<p:outputLabel value="#{msgs.DataCadastro}:" />
					<p:calendar locale="pt" showOn="button" showButtonPanel="true"
						pattern="dd/MM/yyyy" mask="true" size="8"
						value="#{cadastroEmpresaMB.dadosCadastraisAtual.dataInicioCadastro}" />

					<p:outputLabel value="#{msgs.TipoInscricao}:" />
					<p:selectOneMenu style="width:100px"
						value="#{cadastroEmpresaMB.dadosCadastraisAtual.tipoInscricao}">
						<p:ajax
							listener="#{cadastroEmpresaMB.alterarMascaraPessoaJuridica}"
							update="formModulos:formCadEmpresa:tbwCadastroEmpresa:acpDadosCadastrais:ipmInscricao" />
						<f:selectItem itemValue="1" itemLabel="CNPJ" />
						<f:selectItem itemValue="2" itemLabel="CPF" />
					</p:selectOneMenu>
					<p:outputLabel value="#{msgs.Inscricao}:" />
					<p:inputMask id="ipmInscricao" converter="cnpjCpfConverter"
						mask="#{cadastroEmpresaMB.mascaraPessoaJuridica}"
						value="#{cadastroEmpresaMB.dadosCadastraisAtual.numCNPJ}" />

					<p:outputLabel value="#{msgs.RazaoSocial}:" />
					<p:inputText maxlength="250" size="62"
						value="#{cadastroEmpresaMB.dadosCadastraisAtual.razaoSocial}" />

					<p:outputLabel value="#{msgs.FAP}:" />
					<h:panelGroup>
						<p:inputMask mask="9,999" maxlength="250" size="5" />
						<p:commandButton value="#{msgs.ProcessoFAP}" />
					</h:panelGroup>
				</p:panelGrid>

				<p:panelGrid columns="4" styleClass="tabelaSemBorda">
					<p:outputLabel value="#{msgs.CodClassificacaoTributaria}" />
					<p:selectOneMenu />

					<p:outputLabel value="#{msgs.CodNaturezaJuridica}" />
					<p:selectOneMenu
						value="#{cadastroEmpresaMB.dadosCadastraisAtual.codNaturezaJuridica}" />

					<p:outputLabel value="#{msgs.CodIndicativoCooperativa}" />
					<p:selectOneMenu
						value="#{cadastroEmpresaMB.dadosCadastraisAtual.codIndicativoCooperativa}" />

					<p:outputLabel value="#{msgs.CodIndicativoConstrucao}" />
					<p:selectOneMenu
						value="#{cadastroEmpresaMB.dadosCadastraisAtual.codIndicativoConstrucao}" />

					<p:outputLabel value="#{msgs.CodIndicativoDesoneracaoFolha}" />
					<p:selectOneMenu
						value="#{cadastroEmpresaMB.dadosCadastraisAtual.codIndicativoDesoneracaoFolha}" />

					<p:outputLabel value="#{msgs.CodIndicativoRegEletronico}" />
					<p:selectOneMenu
						value="#{cadastroEmpresaMB.dadosCadastraisAtual.codIndicativoRegEletronico}" />
				</p:panelGrid>

				<p:panelGrid columns="2" styleClass="tabelaSemBorda">
					<p:outputLabel value="#{msgs.MultiplasRubricas}" />
					<p:selectBooleanButton id="value2" onLabel="#{msgs.Sim}"
						offLabel="#{msgs.Nao}" onIcon="ui-icon-check"
						offIcon="ui-icon-close" style="width:120px" />
				</p:panelGrid>

			</h:panelGroup>

			<h:panelGroup id="pngCadEmpresaExibir" layout="block"
				styleClass="formulario"
				rendered="#{cadastroEmpresaMB.btnDadosCadastraisCancelarDesativado}">
				<p:panelGrid columns="2" styleClass="tabelaSemBorda">
					<p:outputLabel value="#{msgs.DataCadastro}:" />
					<p:outputLabel
						value="#{cadastroEmpresaMB.dadosCadastraisAtual.dataInicioCadastro}">
						<f:convertDateTime type="both" timeZone="GMT-3"
							pattern="dd/MM/YYYY" />
					</p:outputLabel>

					<p:outputLabel value="#{msgs.TipoInscricao}:" />
					<p:outputLabel
						value="#{cadastroEmpresaMB.dadosCadastraisAtual.tipoInscricao}"/>

					<p:outputLabel value="#{msgs.Inscricao}:" />
					<p:outputLabel value="#{cadastroEmpresaMB.dadosCadastraisAtual.numCNPJ}">
						<f:converter converterId="cnpjCpfConverter"/>
					</p:outputLabel>

					<p:outputLabel value="#{msgs.RazaoSocial}:" />
					<p:outputLabel
						value="#{cadastroEmpresaMB.dadosCadastraisAtual.razaoSocial}" converter="stringConverter"/>

					<p:outputLabel value="#{msgs.FAP}:" />
					<h:panelGroup>
						<p:outputLabel
							value="#{cadastroEmpresaMB.empresaFap.numProcessoFAP}" />
						<p:commandButton value="#{msgs.ProcessoFAP}" />
					</h:panelGroup>
				</p:panelGrid>

				<p:panelGrid columns="2" styleClass="tabelaSemBorda">
					<p:commandButton value="#{msgs.CodigosESocial}"
						onclick="PF('dlgCodigoESocial').show()" />
				</p:panelGrid>

				<p:dialog header="#{msgs.CodigosESocial}"
					widgetVar="dlgCodigoESocial" closable="true" resizable="true"
					width="1000" modal="true">

					<p:panelGrid columns="4" styleClass="tabelaSemBorda">
						<p:outputLabel value="#{msgs.CodClassificacaoTributaria}:" />
						<p:outputLabel
							value="#{cadastroEmpresaMB.dadosCadastraisAtual.codClassificacaoTributaria}" />

						<p:outputLabel value="#{msgs.CodNaturezaJuridica}:" />
						<p:outputLabel
							value="#{cadastroEmpresaMB.dadosCadastraisAtual.codNaturezaJuridica}" />

						<p:outputLabel value="#{msgs.CodIndicativoCooperativa}:" />
						<p:outputLabel
							value="#{cadastroEmpresaMB.dadosCadastraisAtual.codIndicativoCooperativa}" />

						<p:outputLabel value="#{msgs.CodIndicativoConstrucao}:" />
						<p:outputLabel
							value="#{cadastroEmpresaMB.dadosCadastraisAtual.codIndicativoConstrucao}" />

						<p:outputLabel value="#{msgs.CodIndicativoDesoneracaoFolha}:" />
						<p:outputLabel
							value="#{cadastroEmpresaMB.dadosCadastraisAtual.codIndicativoDesoneracaoFolha}" />

						<p:outputLabel value="#{msgs.CodIndicativoRegEletronico}:" />
						<p:outputLabel
							value="#{cadastroEmpresaMB.dadosCadastraisAtual.codIndicativoRegEletronico}" />
					</p:panelGrid>

					<p:panelGrid columns="2" styleClass="tabelaSemBorda">
						<p:outputLabel value="#{msgs.MultiplasRubricas}:" />
						<p:outputLabel
							value="#{cadastroEmpresaMB.dadosCadastraisAtual.multiplasTabRubricas}" />
					</p:panelGrid>
				</p:dialog>

			</h:panelGroup>
		</p:tab>

		<p:tab title="#{msgs.EmpresaDadosIsencao}">
		</p:tab>

		<p:tab title="#{msgs.OrganismoInternacional}">
		</p:tab>

		<p:tab title="#{msgs.EmpresaSoftwareHouse}">
		</p:tab>

		<p:tab title="#{msgs.EmpresaDadosComplementares}">
		</p:tab>

		<p:tab title="#{msgs.Historico}">
			<h:panelGrid columns="2" cellpadding="10">
				<p:dataTable scrollable="true" styleClass="dataTable" emptyMessage="#{msgs.ListaHistoricoDadosCadastrais}" 
					value="#{cadastroEmpresaMB.dadosCadastraisHistorico}" var="cadastro">
					<p:column headerText="#{msgs.DataCadastro}" width="110">
						<p:outputLabel value="#{cadastro.dataInicioCadastro}"/>
					</p:column>
					<p:column headerText="#{msgs.DataTermino}" width="110">
						<p:outputLabel value="#{cadastro.dataFimCadastro}"/>
					</p:column>
					<p:column headerText="#{msgs.TipoInscricao}">
						<p:outputLabel value="#{cadastro.tipoInscricao}"/>
					</p:column>
					<p:column headerText="#{msgs.Inscricao}">
						<p:outputLabel value="#{cadastro.numCNPJ}"/>
					</p:column>
					<p:column headerText="#{msgs.RazaoSocial}">
						<p:outputLabel value="#{cadastro.razaoSocial}" converter="stringConverter"/>					
					</p:column>
					<p:column headerText="#{msgs.CodClassificacaoTributaria}">
						<p:outputLabel value="#{cadastro.codClassificacaoTributaria}" />					
					</p:column>
					<p:column headerText="#{msgs.CodNaturezaJuridica}">
						<p:outputLabel value="#{cadastro.codNaturezaJuridica}" />					
					</p:column>
					<p:column headerText="#{msgs.CodIndicativoCooperativa}">
						<p:outputLabel value="#{cadastro.codIndicativoCooperativa}" />					
					</p:column>
					<p:column headerText="#{msgs.CodIndicativoConstrucao}">
						<p:outputLabel value="#{cadastro.codIndicativoConstrucao}" />					
					</p:column>
					<p:column headerText="#{msgs.CodIndicativoDesoneracaoFolha}">
						<p:outputLabel value="#{cadastro.codIndicativoDesoneracaoFolha}" />					
					</p:column>
					<p:column headerText="#{msgs.CodIndicativoRegEletronico}">
						<p:outputLabel value="#{cadastro.codIndicativoRegEletronico}" />					
					</p:column>
				</p:dataTable>
			</h:panelGrid>
		</p:tab>

	</p:accordionPanel>
</ui:composition>
</html>